<div class="reservation-page-wrapper min-h-screen py-12 px-4 relative overflow-hidden">
  
  <div class="scenic-bg">
    <div class="hill hill-1"></div>
    <div class="bullet-train-container">
      <div class="bullet-train">
        <div class="train-head"></div>
        <div class="speed-lines"></div>
      </div>
    </div>
  </div>

  <div class="max-w-4xl mx-auto main-wrapper page-reservations relative z-10">

    <div class="page-header flex justify-between items-center mb-8">
      <div>
        <h1 class="text-3xl font-black text-slate-900 tracking-tight drop-shadow-sm">Reservations</h1>
        <p class="text-sm text-slate-600 mt-1 font-medium">Link train schedules with passenger bookings</p>
      </div>
      <a href="/" data-link class="px-4 py-2 rounded-lg bg-white/40 hover:bg-white/60 text-sm font-bold text-slate-700 transition flex items-center gap-2 border border-slate-200 shadow-sm">
        <i class="fa-solid fa-arrow-left"></i> Back to Dashboard
      </a>
    </div>

    <div class="form-card mb-8 p-6 rounded-2xl border border-white/80 bg-white/40 backdrop-blur-md shadow-lg shadow-blue-900/5">
      <h2 class="font-bold mb-4 text-lg text-slate-800 border-b border-slate-200/50 pb-2">Create Reservation</h2>

      <form id="reservationForm" class="space-y-4">
        <div>
          <label class="text-xs text-blue-600 font-bold mb-1 uppercase tracking-wider block">Assign Train</label>
          <select id="train_id" required class="w-full bg-white/50 border border-slate-200 rounded-lg px-4 py-2.5 text-slate-900 focus:outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition cursor-pointer">
            <option value="" class="bg-white">Select Train</option>
          </select>
        </div>

        <div>
          <label class="text-xs text-blue-600 font-bold mb-1 uppercase tracking-wider block">Assign Booking</label>
          <select id="booking_id" required class="w-full bg-white/50 border border-slate-200 rounded-lg px-4 py-2.5 text-slate-900 focus:outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition cursor-pointer">
            <option value="" class="bg-white">Select Booking</option>
          </select>
        </div>

        <div>
          <label class="text-xs text-blue-600 font-bold mb-1 uppercase tracking-wider block">Assign Staff</label>
          <select id="Staff_id" required class="w-full bg-white/50 border border-slate-200 rounded-lg px-4 py-2.5 text-slate-900 focus:outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400 transition cursor-pointer">
            <option value="" class="bg-white">Select Staff</option>
          </select>
        </div>
        <button type="submit" id="submitBtn"
          class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg transition shadow-lg mt-2">
          <i class="fa-solid fa-link mr-2"></i> Reserved Train
        </button>
      </form>

      <p class="text-[10px] text-slate-500 mt-4 uppercase tracking-widest text-center font-bold">
        Note: This table links IDs. Use Join Reports for detailed view.
      </p>
    </div>

    <div class="table-card p-6 rounded-2xl border border-white/80 bg-white/40 backdrop-blur-md shadow-lg shadow-blue-900/5">
      <h2 class="font-bold mb-4 text-lg text-slate-800">Current Reservation Links</h2>

      <div id="loadingSpinner" class="text-center py-8">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"></div>
        <p class="text-slate-500 text-sm mt-2">Connecting data...</p>
      </div>

      <div id="reservationsTableContainer" class="hidden overflow-x-auto rounded-xl border border-slate-200 bg-white/30">
        <table class="min-w-full text-left">
          <thead>
            <tr class="bg-slate-50/50">
              <th class="px-4 py-3 font-bold text-blue-600">ID</th>
              <th class="px-4 py-3 font-bold text-blue-600">Train ID</th>
              <th class="px-4 py-3 font-bold text-blue-600">Booking ID</th>
              <th class="px-4 py-3 font-bold text-blue-600">Staff ID</th>
              <th class="px-4 py-3 font-bold text-blue-600">Reserved On</th>
              <th class="px-4 py-3 font-bold text-blue-600 text-right">Actions</th>
            </tr>
          </thead>
          <tbody id="reservationsTableBody" class="divide-y divide-slate-100 text-slate-700">
            </tbody>
        </table>

        <p id="noReservations" class="text-center text-slate-500 py-8 hidden font-medium">
          No reservations found. Create one using the form above.
        </p>
      </div>
    </div>

    <div id="alertContainer" class="fixed top-4 right-4 space-y-2 z-50"></div>
  </div>
</div>

<style>
  /* Dynamic Light Blue Background */
  .reservation-page-wrapper {
    background: linear-gradient(180deg, #e0f2fe 0%, #bae6fd 100%);
    background-attachment: fixed;
  }

  .scenic-bg {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 60vh;
    z-index: 0;
    pointer-events: none;
  }

  .hill {
    position: absolute;
    bottom: 0;
    width: 200%;
    height: 100%;
    background-repeat: repeat-x;
    opacity: 0.5;
  }

  .hill-1 {
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%237dd3fc" d="M0,160L80,176C160,192,320,224,480,213.3C640,203,800,149,960,144C1120,139,1280,181,1360,202.7L1440,224L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"></path></svg>');
    animation: moveHill 60s linear infinite;
    bottom: -50px;
  }

  .bullet-train-container {
    position: absolute;
    bottom: 120px;
    width: 100%;
    height: 2px;
    background: rgba(15, 23, 42, 0.05);
  }

  .bullet-train {
    position: absolute;
    top: -15px;
    left: -500px;
    display: flex;
    align-items: center;
    animation: highSpeedPass 12s cubic-bezier(0.45, 0.05, 0.55, 0.95) infinite;
  }

  .train-head {
    width: 70px;
    height: 20px;
    background: #0369a1;
    border-radius: 50% 12px 3px 3px;
  }

  .speed-lines {
    width: 120px;
    height: 15px;
    background: linear-gradient(90deg, transparent, rgba(3, 105, 161, 0.3));
    margin-left: -5px;
  }

  @keyframes moveHill {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
  }

  @keyframes highSpeedPass {
    0% { transform: translateX(-100%); }
    30%, 100% { transform: translateX(200vw); }
  }

  /* Dropdown Styles */
  select option {
    background-color: white;
    color: #0f172a;
  }

  /* Table Hover Effect */
  #reservationsTableBody tr:hover {
    background: rgba(255, 255, 255, 0.5);
  }
</style>
